<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array Map - JS Concept Explainer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=IBM+Plex+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">

    <link id="prism-theme" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-highlight/prism-line-highlight.min.css"
        rel="stylesheet" />

    <link rel="stylesheet" href="css/style.css">

    <script src="js/theme/theme-init.js"></script>
    <script type="module" src="js/theme/theme.js"></script>
    <script type="module" src="js/components/code-explainer.js"></script>
</head>

<body>
    <main id="app">
        <header class="app-header">
            <div class="header-content">
                <a href="index.html" class="back-link">&larr; Back to Concepts</a>
                <h1>Array Map</h1>
            </div>
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <svg class="icon-moon" width="24" height="24">
                    <use href="assets/moon.svg#icon-moon"></use>
                </svg>
                <svg class="icon-sun" width="24" height="24">
                    <use href="assets/sun.svg#icon-sun"></use>
                </svg>
            </button>
        </header>

        <code-explainer id="example-array-map">
            <h2 slot="title">Array Map</h2>
            <p slot="description">
                You can use map to transform an array of strings to array of their lengths. Note the
                explicit <code>return</code> inside the <code>map()</code> callback function.
                In this example, we create a new array called <code>lengths</code> that contains the length of each
                string in the original array.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const strings = ["apple", "banana", "cherry"];
const lengths = strings.map((str) => {
  return str.length;
});</code></pre>
            <script type="application/json">
[
  { "lines": "1", "variables": {}, "description": "Define source array." },
  { "lines": "2", "variables": { "strings": ["apple","banana","cherry"] }, "description": "Call <code>map()</code>. <code>map()</code> creates a new array and fills it with values returned from the callback function." },
  { "lines": "2", "range": { "text": "str" }, "variables": { "str": "apple" }, "description": "First iteration. Callback function is called with first element of the array. <code>str</code> is <code>\"apple\"</code>." },
  { "lines": "3", "variables": { "lengths": [5] }, "description": "Return length (<code>5</code>). <code>5</code> is pushed to the new array." },
  { "lines": "2", "range": { "text": "str" }, "variables": { "str": "banana" }, "description": "Second iteration. <code>str</code> is <code>\"banana\"</code>." },
  { "lines": "3", "variables": { "lengths": [5,6] }, "description": "Return length (<code>6</code>). <code>6</code> is pushed to the new array." },
  { "lines": "2", "range": { "text": "str" }, "variables": { "str": "cherry" }, "description": "Third iteration. <code>str</code> is <code>\"cherry\"</code>." },
  { "lines": "3", "variables": { "lengths": [5,6,6] }, "description": "Return length (<code>6</code>). <code>6</code> is pushed to the new array." },
  { "lines": "2", "variables": { "lengths": [5,6,6] }, "description": "<code>map</code> finishes and returns new array. We save it in variable <code>lengths</code>." }
]
        </script>
            <div slot="summary">
                <h3>Key Points:</h3>
                <ul>
                    <li><code>map()</code> creates a new array (doesn't modify the original)</li>
                    <li>Each element is transformed by the callback function</li>
                    <li>The callback must use explicit <code>return</code> when using curly braces <code>{}</code></li>
                </ul>
            </div>
        </code-explainer>

        <code-explainer id="example-array-map-students">
            <h2 slot="title">Array Map: Implicit Return</h2>
            <p slot="description">
                Callback function can be an <b>arrow function with an implicit return</b>.
                Implicit return is a short syntax where the result of the expression is automatically returned without
                using the <code>return</code> keyword or curly braces.<br>
                In this example, we create a new array called <code>greetings</code> that contains the greetings for
                each student in the original array.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const students = [
  { name: "Alice", age: 20 },
  { name: "Bob", age: 22 }
];
const greetings = students.map(student => `hello, ${student.name}!`);</code></pre>
            <script type="application/json">
[
  { "lines": "1-4", "variables": {}, "description": "Define source array of student objects." },
  { "lines": "5", "variables": { "students": [{"name":"Alice","age":20},{"name":"Bob","age":22}] }, "description": "Call <code>map()</code> with an arrow function. We use implicit return here." },
  { "lines": "5", "range": { "text": "student" }, "variables": { "student": {"name":"Alice","age":20} }, "description": "First iteration. Callback function is called with first element of the array. <code>student</code> is the first object. Implicit return means we don't use <code>return</code> keyword and curly braces <code>{}</code>." },
  { "lines": "5", "range": { "text": "`hello, ${student.name}!`" }, "variables": { "greetings": ["hello, Alice!"], "student": {"name":"Alice","age":20} }, "description": "The expression after <code>=&gt;</code> is automatically returned. Its value is <code>\"hello, Alice!\"</code> and it is pushed to the new array." },
  { "lines": "5", "range": { "text": "student" }, "variables": { "greetings": ["hello, Alice!","hello, Bob!"], "student": {"name":"Bob","age":22} }, "description": "Second iteration. <code>student</code> is the second object. Implicit return is used when the function body is a single expression." },
  { "lines": "5", "variables": { "greetings": ["hello, Alice!","hello, Bob!"] }, "description": "<code>map</code> finishes. Implicit return is cleaner but only works for single-line expressions. If you need multiple statements, you must use curly braces <code>{}</code> and an explicit <code>return</code>." }
]
        </script>
            <div slot="summary">
                <h3>Key Points:</h3>
                <ul>
                    <li>Arrow functions can use implicit return for single expressions</li>
                    <li>No curly braces <code>{}</code> and no <code>return</code> keyword needed</li>
                    <li>Implicit return is cleaner syntax but only works for single-line expressions</li>
                    <li>If you need multiple statements, you must use curly braces and an explicit return</li>
                </ul>
            </div>
        </code-explainer>


        <code-explainer id="example-array-map-songs">
            <h2 slot="title">Array Map: Song Titles</h2>
            <p slot="description">
                Callback function can be a regular function with multiple statements.<br>
                In this example, we transform an array of strings that represent songs in the format
                <code>"Artist - Title"</code>
                into an array of just the titles. Here we assign the title to a new variable before returning it.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const songs = ["Daft Punk - One More Time", "Justice - Genesis"];
const titles = songs.map((song) => {
  const artistAndTitle = song.split(" - ");
  const title = artistAndTitle[1];
  return title;
});
</code></pre>
            <script type="application/json">
[
  { "lines": "1", "variables": {}, "description": "Define source array of song strings." },
  { "lines": "2", "variables": { "songs": ["Daft Punk - One More Time","Justice - Genesis"] }, "description": "Call <code>map()</code>. We will iterate through each song string." },
  { "lines": "2", "range": { "text": "song" }, "variables": { "song": "Daft Punk - One More Time" }, "description": "First iteration. <code>song</code> is the first string." },
  { "lines": "3", "variables": { "song": "Daft Punk - One More Time", "artistAndTitle": ["Daft Punk","One More Time"] }, "description": "Split the string by <code>\" - \"</code>. <code>artistAndTitle</code> is now an array with two elements: <code>\"Daft Punk\"</code> and <code>\"One More Time\"</code>." },
  { "lines": "4", "variables": { "song": "Daft Punk - One More Time", "artistAndTitle": ["Daft Punk","One More Time"], "title": "One More Time" }, "description": "Assign the second element to variable <code>title</code>. <code>title</code> is now <code>\"One More Time\"</code>." },
  { "lines": "5", "variables": { "song": "Daft Punk - One More Time", "artistAndTitle": ["Daft Punk","One More Time"], "title": "One More Time" }, "description": "Return <code>title</code>. <code>\"One More Time\"</code> is pushed to the new array." },
  { "lines": "2", "range": { "text": "song" }, "variables": { "song": "Justice - Genesis" }, "description": "Second iteration. <code>song</code> is the second string." },
  { "lines": "3", "variables": { "song": "Justice - Genesis", "artistAndTitle": ["Justice","Genesis"] }, "description": "Split the string by <code>\" - \"</code>. <code>artistAndTitle</code> is now <code>[\"Justice\", \"Genesis\"]</code>." },
  { "lines": "4", "variables": { "song": "Justice - Genesis", "artistAndTitle": ["Justice","Genesis"], "title": "Genesis" }, "description": "Assign the second element to variable <code>title</code>. <code>title</code> is now <code>\"Genesis\"</code>." },
  { "lines": "5", "variables": { "song": "Justice - Genesis", "artistAndTitle": ["Justice","Genesis"], "title": "Genesis" }, "description": "Return <code>title</code>. <code>\"Genesis\"</code> is pushed to the new array." },
  { "lines": "2", "variables": { "titles": ["One More Time","Genesis"] }, "description": "<code>map</code> finishes and returns the new array of titles." }
]
        </script>
            <div slot="summary">
                <h3>Key Points:</h3>
                <ul>
                    <li><code>map()</code> can handle complex transformations with multiple statements</li>
                    <li>When using multiple statements, curly braces and explicit <code>return</code> are required</li>
                    <li>Assigning intermediate variables makes code clearer, especially for explanations or debugging
                    </li>
                </ul>
            </div>
        </code-explainer>

    </main>

    <!-- Prism JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/keep-markup/prism-keep-markup.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>

</html>