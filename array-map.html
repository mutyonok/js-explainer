<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array Map - JS Concept Explainer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=IBM+Plex+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Prism CSS -->
    <link id="prism-theme" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-highlight/prism-line-highlight.min.css"
        rel="stylesheet" />

    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main id="app">
        <header class="app-header">
            <div class="header-content">
                <a href="index.html" class="back-link">‚Üê Back to Concepts</a>
                <h1>Array Map</h1>
            </div>
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <!-- Moon icon (for light mode) -->
                <svg class="icon-moon" width="24" height="24">
                    <use href="assets/moon.svg#icon-moon"></use>
                </svg>
                <!-- Sun icon (for dark mode) -->
                <svg class="icon-sun" width="24" height="24">
                    <use href="assets/sun.svg#icon-sun"></use>
                </svg>
            </button>
        </header>

        <code-explainer id="example-array-map">
            <h2 slot="title">Array Map</h2>
            <p slot="description">
                You can use map to transform an array of strings to array of their lengths. Note the
                explicit return inside the map function.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const strings = ["apple", "banana", "cherry"];
const lengths = strings.map((str) => {
  return str.length;
});</code></pre>
            <script type="application/json">
[
  { "lines": "1", "variables": {}, "description": "1. Define source array." },
  { "lines": "2", "variables": { "strings": ["apple","banana","cherry"] }, "description": "2. Call <code>map()</code>. map creates a new array and fills it with values returned from the callback function." },
  { "lines": "2", "range": { "text": "str" }, "variables": { "str": "apple" }, "description": "3. First iteration. <code>str</code> is 'apple'." },
  { "lines": "3", "variables": { "lengths": [5] }, "description": "4. Return length (5). 5 is pushed to the new array." },
  { "lines": "2", "range": { "text": "str" }, "variables": { "str": "banana" }, "description": "5. Second iteration. <code>str</code> is 'banana'." },
  { "lines": "3", "variables": { "lengths": [5,6] }, "description": "6. Return length (6). 6 is pushed to the new array." },
  { "lines": "2", "range": { "text": "str" }, "variables": { "str": "cherry" }, "description": "7. Third iteration. <code>str</code> is 'cherry'." },
  { "lines": "3", "variables": { "lengths": [5,6,6] }, "description": "8. Return length (6). 6 is pushed to the new array." },
  { "lines": "2", "variables": { "lengths": [5,6,6] }, "description": "9. <code>map</code> finishes and returns new array. We save it in variable lengths." }
]
        </script>
        </code-explainer>


        <code-explainer id="example-array-map-squares">
            <h2 slot="title">Array Map, example 2</h2>
            <p slot="description">
                We use <code>map</code> to transform an array of numbers to array of their squares.
                Note the explicit <code>return</code> inside the callback function.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const numbers = [2, 3, 4];
const squares = numbers.map((num) => {
  return num * num;
});</code></pre>
            <script type="application/json">
[
  { "lines": "1", "variables": {}, "description": "1. Define source array." },
  { "lines": "2", "variables": { "numbers": [2,3,4] }, "description": "2. Call <code>map()</code>. map creates a new array and fills it with values returned from the callback function." },
  { "lines": "2", "range": { "text": "num" }, "variables": { "num": 2 }, "description": "3. First iteration: callback runs with num = 2." },
  { "lines": "3", "range": { "text": "return num * num" }, "variables": { "num": 2 }, "description": "4. Return 4 (2 * 2). 4 is pushed to the new array." },
  { "lines": "2", "range": { "text": "num" }, "variables": { "num": 3 }, "description": "5. Second iteration: callback runs with num = 3." },
  { "lines": "3", "range": { "text": "return num * num" }, "variables": { "num": 3 }, "description": "6. Return 9 (3 * 3). 9 is pushed to the new array." },
  { "lines": "2", "range": { "text": "num" }, "variables": { "num": 4 }, "description": "7. Third iteration: callback runs with num = 4." },
  { "lines": "3", "range": { "text": "return num * num" }, "variables": { "num": 4 }, "description": "8. Return 16 (4 * 4). 16 is pushed to the new array." },
  { "lines": "2", "variables": { "squares": [4,9,16] }, "description": "9. <code>map</code> finishes and returns the new array. We store it in variable squares." }
]
        </script>
        </code-explainer>


        <code-explainer id="example-array-map-students">
            <h2 slot="title">Array Map: Implicit Return</h2>
            <p slot="description">
                We transform an array of student objects into an array of greetings.
                This example uses an <b>arrow function with an implicit return</b>.
                Implicit return is a short syntax where the result of the expression is automatically returned
                without using the <code>return</code> keyword or curly braces.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const students = [
  { name: "Alice", age: 20 },
  { name: "Bob", age: 22 }
];
const greetings = students.map(student => `hello, ${student.name}!`);
</code></pre>
            <script type="application/json">
[
  { "lines": "1-4", "variables": {}, "description": "1. Define source array of student objects." },
  { "lines": "5", "variables": { "students": [{"name":"Alice","age":20},{"name":"Bob","age":22}] }, "description": "2. Call <code>map()</code> with an arrow function. We use implicit return here." },
  { "lines": "5", "range": { "text": "student" }, "variables": { "student": {"name":"Alice","age":20} }, "description": "3. First iteration. <code>student</code> is the first object. Implicit return means we don't use return keyword and curly braces. The expression after => is automatically returned." },
  { "lines": "5", "range": { "text": "student" }, "variables": { "student": {"name":"Bob","age":22} }, "description": "4. Second iteration. <code>student</code> is the second object. Implicit return is used when the function body is a single expression." },
  { "lines": "5", "variables": { "greetings": ["hello, Alice!","hello, Bob!"] }, "description": "5. <code>map</code> finishes. Implicit return is cleaner but only works for single-line expressions. If you need multiple statements, you must use curly braces and an explicit return." }
]
        </script>
        </code-explainer>


        <code-explainer id="example-array-map-songs">
            <h2 slot="title">Array Map: Song Titles</h2>
            <p slot="description">
                We transform an array of strings that represent songs in the format "Artist - Title"
                into an array of just the titles.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const songs = ["Daft Punk - One More Time", "Justice - Genesis"];
const titles = songs.map((song) => {
  const artistAndTitle = song.split(" - ");
  return artistAndTitle[1];
});
</code></pre>
            <script type="application/json">
[
  { "lines": "1", "variables": {}, "description": "1. Define source array of song strings." },
  { "lines": "2", "variables": { "songs": ["Daft Punk - One More Time","Justice - Genesis"] }, "description": "2. Call <code>map()</code>. We will iterate through each song string." },
  { "lines": "2", "range": { "text": "song" }, "variables": { "song": "Daft Punk - One More Time" }, "description": "3. First iteration. <code>song</code> is the first string." },
  { "lines": "3", "variables": { "song": "Daft Punk - One More Time", "artistAndTitle": ["Daft Punk","One More Time"] }, "description": "4. Split the string by ' - '. <code>artistAndTitle</code> is now an array with two elements: 'Daft Punk' and 'One More Time'." },
  { "lines": "4", "variables": { "song": "Daft Punk - One More Time", "artistAndTitle": ["Daft Punk","One More Time"] }, "description": "5. Return the second element (index 1), which is the title. 'One More Time' is pushed to the new array." },
  { "lines": "2", "range": { "text": "song" }, "variables": { "song": "Justice - Genesis" }, "description": "6. Second iteration. <code>song</code> is the second string." },
  { "lines": "3", "variables": { "song": "Justice - Genesis", "artistAndTitle": ["Justice","Genesis"] }, "description": "7. Split the string by ' - '. <code>artistAndTitle</code> is now ['Justice', 'Genesis']." },
  { "lines": "4", "variables": { "song": "Justice - Genesis", "artistAndTitle": ["Justice","Genesis"] }, "description": "8. Return the title 'Genesis'. It is pushed to the new array." },
  { "lines": "2", "variables": { "titles": ["One More Time","Genesis"] }, "description": "9. <code>map</code> finishes and returns the new array of titles." }
]
        </script>
        </code-explainer>


    </main>

    <!-- Prism JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/keep-markup/prism-keep-markup.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-highlight/prism-line-highlight.min.js"></script>

    <script src="theme.js"></script>
    <script src="explainer.js"></script>
    <script src="code-explainer.js"></script>
    <script src="index.js"></script>
</body>

</html>