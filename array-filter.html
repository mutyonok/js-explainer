<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array Filter - JS Concept Explainer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=IBM+Plex+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Prism CSS -->
    <link id="prism-theme" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css"
        rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-highlight/prism-line-highlight.min.css"
        rel="stylesheet" />

    <link rel="stylesheet" href="css/style.css">
    
    <script src="js/theme-init.js"></script>
    <script type="module" src="js/theme.js"></script>
    <script type="module" src="js/code-explainer.js"></script>
</head>

<body>
    <main id="app">
        <header class="app-header">
            <div class="header-content">
                <a href="index.html" class="back-link">← Back to Concepts</a>
                <h1>Array Filter</h1>
            </div>
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <svg class="icon-moon" width="24" height="24">
                    <use href="assets/moon.svg#icon-moon"></use>
                </svg>
                <svg class="icon-sun" width="24" height="24">
                    <use href="assets/sun.svg#icon-sun"></use>
                </svg>
            </button>
        </header>

        <code-explainer id="example-filter-even">
            <h2 slot="title">Keep Even Numbers</h2>
            <p slot="description">
                The <code>filter()</code> method creates a new array containing only the elements that pass a test.
                The callback function runs for each element and must return <code>true</code> to keep the element
                or <code>false</code> to exclude it.<br>
                In this example, we create a new array called <code>evens</code> that contains only the even numbers from the original array. The callback function is arrow function with explicit return.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const numbers = [8, 10, 5, 1, 7, 2];
const evens = numbers.filter((num) => {
  return num % 2 === 0;
});</code></pre>
            <script type="application/json">
[
  { "lines": "1", "variables": { "numbers": [8, 10, 5, 1, 7, 2] }, "description": "1. We start with an array of 6 numbers. Some are even, some are odd." },
  { "lines": "2", "variables": { "numbers": [8, 10, 5, 1, 7, 2] }, "description": "2. Call <code>filter()</code>. It will test each element and build a new array with only the elements that pass." },
  { "lines": "2", "range": { "text": "num" }, "variables": { "num": 8 }, "description": "3. First iteration: <code>num</code> is 8." },
  { "lines": "3", "range": { "text": "num % 2 === 0" }, "variables": { "num": 8 }, "description": "4. Test: Is 8 even? <code>8 % 2 === 0</code> is <b>true</b>. Return true, so 8 is <b>kept</b>." },
  { "lines": "2", "range": { "text": "num" }, "variables": { "num": 10 }, "description": "5. Second iteration: <code>num</code> is 10." },
  { "lines": "3", "range": { "text": "num % 2 === 0" }, "variables": { "num": 10 }, "description": "6. Test: Is 10 even? <code>10 % 2 === 0</code> is <b>true</b>. Return true, so 10 is <b>kept</b>." },
  { "lines": "2", "range": { "text": "num" }, "variables": { "num": 5 }, "description": "7. Third iteration: <code>num</code> is 5." },
  { "lines": "3", "range": { "text": "num % 2 === 0" }, "variables": { "num": 5 }, "description": "8. Test: Is 5 even? <code>5 % 2 === 0</code> is <b>false</b>. Return false, so 5 is <b>excluded</b>." },
  { "lines": "2", "range": { "text": "num" }, "variables": { "num": 1 }, "description": "9. Fourth iteration: <code>num</code> is 1." },
  { "lines": "3", "range": { "text": "num % 2 === 0" }, "variables": { "num": 1 }, "description": "10. Test: Is 1 even? <code>1 % 2 === 0</code> is <b>false</b>. Return false, so 1 is <b>excluded</b>." },
  { "lines": "2", "range": { "text": "num" }, "variables": { "num": 7 }, "description": "11. Fifth iteration: <code>num</code> is 7." },
  { "lines": "3", "range": { "text": "num % 2 === 0" }, "variables": { "num": 7 }, "description": "12. Test: Is 7 even? <code>7 % 2 === 0</code> is <b>false</b>. Return false, so 7 is <b>excluded</b>." },
  { "lines": "2", "range": { "text": "num" }, "variables": { "num": 2 }, "description": "13. Sixth iteration: <code>num</code> is 2." },
  { "lines": "3", "range": { "text": "num % 2 === 0" }, "variables": { "num": 2 }, "description": "14. Test: Is 2 even? <code>2 % 2 === 0</code> is <b>true</b>. Return true, so 2 is <b>kept</b>." },
  { "lines": "2", "variables": { "evens": [8, 10, 2] }, "description": "15. <code>filter()</code> finishes. Only elements that returned true are in the new array." }
]
        </script>
            <div slot="summary">
                <h3>Key Points:</h3>
                <ul>
                    <li><code>filter()</code> creates a new array — the original array stays unchanged</li>
                    <li>The callback must return <code>true</code> to keep an element, <code>false</code> to exclude it</li>
                    <li>The modulo operator <code>%</code> returns the remainder — if <code>num % 2 === 0</code>, the number is even</li>
                    <li>Arrow function with explicit return must have <code>return</code> keyword and curly braces</li>
                </ul>
            </div>
        </code-explainer>

        <code-explainer id="example-filter-words">
            <h2 slot="title">Filter Words by Length</h2>
            <p slot="description">
                We use <code>filter()</code> to keep only words that are longer than 3 characters.
                This is useful when you need to search or narrow down a list based on some criteria.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const words = ["hi", "hello", "hey", "welcome"];
const longWords = words.filter((word) => {
  return word.length > 3;
});</code></pre>
            <script type="application/json">
[
  { "lines": "1", "variables": { "words": ["hi", "hello", "hey", "welcome"] }, "description": "1. We have an array of 4 words with different lengths." },
  { "lines": "2", "variables": { "words": ["hi", "hello", "hey", "welcome"] }, "description": "2. Call <code>filter()</code>. We want to keep only words longer than 3 characters." },
  { "lines": "2", "range": { "text": "word" }, "variables": { "word": "hi" }, "description": "3. First iteration: <code>word</code> is \"hi\"." },
  { "lines": "3", "range": { "text": "word.length > 3" }, "variables": { "word": "hi", "word.length": 2 }, "description": "4. Test: \"hi\" has length 2. Is <code>2 > 3</code>? <b>No</b>. Return false, so \"hi\" is <b>excluded</b>." },
  { "lines": "2", "range": { "text": "word" }, "variables": { "word": "hello" }, "description": "5. Second iteration: <code>word</code> is \"hello\"." },
  { "lines": "3", "range": { "text": "word.length > 3" }, "variables": { "word": "hello", "word.length": 5 }, "description": "6. Test: \"hello\" has length 5. Is <code>5 > 3</code>? <b>Yes</b>. Return true, so \"hello\" is <b>kept</b>." },
  { "lines": "2", "range": { "text": "word" }, "variables": { "word": "hey" }, "description": "7. Third iteration: <code>word</code> is \"hey\"." },
  { "lines": "3", "range": { "text": "word.length > 3" }, "variables": { "word": "hey", "word.length": 3 }, "description": "8. Test: \"hey\" has length 3. Is <code>3 > 3</code>? <b>No</b> (3 is not greater than 3). Return false, so \"hey\" is <b>excluded</b>." },
  { "lines": "2", "range": { "text": "word" }, "variables": { "word": "welcome" }, "description": "9. Fourth iteration: <code>word</code> is \"welcome\"." },
  { "lines": "3", "range": { "text": "word.length > 3" }, "variables": { "word": "welcome", "word.length": 7 }, "description": "10. Test: \"welcome\" has length 7. Is <code>7 > 3</code>? <b>Yes</b>. Return true, so \"welcome\" is <b>kept</b>." },
  { "lines": "2", "variables": { "longWords": ["hello", "welcome"] }, "description": "11. <code>filter()</code> finishes. Only \"hello\" and \"welcome\" passed the length test." }
]
        </script>
            <div slot="summary">
                <h3>Key Points:</h3>
                <ul>
                    <li>You can access properties like <code>.length</code> inside the callback to make decisions</li>
                    <li>Comparison operators (<code>></code>, <code><</code>, <code>>=</code>, <code><=</code>) return <code>true</code> or <code>false</code></li>
                    <li>Filter is great for searching or narrowing down lists based on criteria</li>
                </ul>
            </div>
        </code-explainer>

        <code-explainer id="example-filter-adults">
            <h2 slot="title">Filter Adults (Implicit Return)</h2>
            <p slot="description">
                We filter an array of person objects to find only adults (age 18 or older).
                This example uses <b>implicit return</b> — a shorter syntax where we skip the curly braces
                and <code>return</code> keyword.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const people = [
  { name: "Alice", age: 17 },
  { name: "Bob", age: 21 },
  { name: "Charlie", age: 15 }
];
const adults = people.filter(person => person.age >= 18);</code></pre>
            <script type="application/json">
[
  { "lines": "1-5", "variables": {}, "description": "1. We define an array of 3 person objects. Each person has a name and an age." },
  { "lines": "6", "variables": { "people": [{"name":"Alice","age":17},{"name":"Bob","age":21},{"name":"Charlie","age":15}] }, "description": "2. Call <code>filter()</code> with implicit return. No curly braces, no return keyword — the expression result is returned automatically." },
  { "lines": "6", "range": { "text": "person" }, "variables": { "person": {"name":"Alice","age":17} }, "description": "3. First iteration: <code>person</code> is Alice (age 17)." },
  { "lines": "6", "range": { "text": "person.age >= 18" }, "variables": { "person": {"name":"Alice","age":17} }, "description": "4. Test: Is <code>17 >= 18</code>? <b>No</b>. Alice is <b>excluded</b>." },
  { "lines": "6", "range": { "text": "person" }, "variables": { "person": {"name":"Bob","age":21} }, "description": "5. Second iteration: <code>person</code> is Bob (age 21)." },
  { "lines": "6", "range": { "text": "person.age >= 18" }, "variables": { "person": {"name":"Bob","age":21} }, "description": "6. Test: Is <code>21 >= 18</code>? <b>Yes</b>. Bob is <b>kept</b>." },
  { "lines": "6", "range": { "text": "person" }, "variables": { "person": {"name":"Charlie","age":15} }, "description": "7. Third iteration: <code>person</code> is Charlie (age 15)." },
  { "lines": "6", "range": { "text": "person.age >= 18" }, "variables": { "person": {"name":"Charlie","age":15} }, "description": "8. Test: Is <code>15 >= 18</code>? <b>No</b>. Charlie is <b>excluded</b>." },
  { "lines": "6", "variables": { "adults": [{"name":"Bob","age":21}] }, "description": "9. <code>filter()</code> finishes. Only Bob passed the age test." }
]
        </script>
            <div slot="summary">
                <h3>Key Points:</h3>
                <ul>
                    <li><code>filter()</code> works with arrays of objects, not just simple values</li>
                    <li>Use dot notation (e.g., <code>person.age</code>) to access object properties</li>
                    <li><b>Implicit return</b>: skip curly braces and <code>return</code> keyword when the callback is a single expression</li>
                </ul>
            </div>
        </code-explainer>

        <code-explainer id="example-filter-falsy">
            <h2 slot="title">Remove Empty Values</h2>
            <p slot="description">
                Arrays sometimes contain empty or missing values like <code>""</code> (empty string) or <code>null</code>.
                We can use <code>filter()</code> to clean up an array by removing these "falsy" values.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const data = ["apple", "", "banana", null, "cherry"];
const cleaned = data.filter((item) => {
  return item;
});</code></pre>
            <script type="application/json">
[
  { "lines": "1", "variables": { "data": ["apple", "", "banana", null, "cherry"] }, "description": "1. Our array has 5 items, but some are empty or null — we want to remove those." },
  { "lines": "2", "variables": { "data": ["apple", "", "banana", null, "cherry"] }, "description": "2. Call <code>filter()</code>. The callback just returns the item itself. JavaScript treats some values as \"falsy\" (they act like false)." },
  { "lines": "2", "range": { "text": "item" }, "variables": { "item": "apple" }, "description": "3. First iteration: <code>item</code> is \"apple\"." },
  { "lines": "3", "range": { "text": "return item" }, "variables": { "item": "apple" }, "description": "4. Return \"apple\". A non-empty string is <b>truthy</b> (acts like true). \"apple\" is <b>kept</b>." },
  { "lines": "2", "range": { "text": "item" }, "variables": { "item": "" }, "description": "5. Second iteration: <code>item</code> is \"\" (empty string)." },
  { "lines": "3", "range": { "text": "return item" }, "variables": { "item": "" }, "description": "6. Return \"\". An empty string is <b>falsy</b> (acts like false). \"\" is <b>excluded</b>." },
  { "lines": "2", "range": { "text": "item" }, "variables": { "item": "banana" }, "description": "7. Third iteration: <code>item</code> is \"banana\"." },
  { "lines": "3", "range": { "text": "return item" }, "variables": { "item": "banana" }, "description": "8. Return \"banana\". Non-empty string is <b>truthy</b>. \"banana\" is <b>kept</b>." },
  { "lines": "2", "range": { "text": "item" }, "variables": { "item": null }, "description": "9. Fourth iteration: <code>item</code> is null." },
  { "lines": "3", "range": { "text": "return item" }, "variables": { "item": null }, "description": "10. Return null. <code>null</code> is <b>falsy</b>. null is <b>excluded</b>." },
  { "lines": "2", "range": { "text": "item" }, "variables": { "item": "cherry" }, "description": "11. Fifth iteration: <code>item</code> is \"cherry\"." },
  { "lines": "3", "range": { "text": "return item" }, "variables": { "item": "cherry" }, "description": "12. Return \"cherry\". Non-empty string is <b>truthy</b>. \"cherry\" is <b>kept</b>." },
  { "lines": "2", "variables": { "cleaned": ["apple", "banana", "cherry"] }, "description": "13. <code>filter()</code> finishes. All falsy values (empty string and null) have been removed." }
]
        </script>
            <div slot="summary">
                <h3>Key Points:</h3>
                <ul>
                    <li><b>Falsy values</b> in JavaScript: <code>""</code>, <code>null</code>, <code>undefined</code>, <code>0</code>, <code>false</code>, <code>NaN</code></li>
                    <li><b>Truthy values</b>: everything else (non-empty strings, non-zero numbers, objects, arrays)</li>
                    <li>This pattern is commonly used to clean up arrays with missing or empty data</li>
                </ul>
            </div>
        </code-explainer>

        <code-explainer id="example-filter-multiple">
            <h2 slot="title">Filter with Multiple Conditions</h2>
            <p slot="description">
                Sometimes you need to check multiple conditions at once. We use the <code>&&</code> (AND) operator
                to require that <b>all</b> conditions must be true for an element to be kept.
            </p>
            <pre slot="code" class="line-numbers"><code class="language-javascript">const products = [
  { name: "Laptop", price: 999, inStock: true },
  { name: "Phone", price: 699, inStock: false },
  { name: "Tablet", price: 299, inStock: true }
];
const deals = products.filter((product) => {
  return product.inStock && product.price < 500;
});</code></pre>
            <script type="application/json">
[
  { "lines": "1-5", "variables": {}, "description": "1. We have an array of 3 products. Each has a name, price, and whether it's in stock." },
  { "lines": "6-8", "variables": { "products": [{"name":"Laptop","price":999,"inStock":true},{"name":"Phone","price":699,"inStock":false},{"name":"Tablet","price":299,"inStock":true}] }, "description": "2. Call <code>filter()</code>. We want products that are BOTH in stock AND cost less than $500." },
  { "lines": "6", "range": { "text": "product" }, "variables": { "product": {"name":"Laptop","price":999,"inStock":true} }, "description": "3. First iteration: <code>product</code> is Laptop ($999, in stock)." },
  { "lines": "7", "range": { "text": "product.inStock" }, "variables": { "product": {"name":"Laptop","price":999,"inStock":true} }, "description": "4. Check first condition: <code>product.inStock</code> is <b>true</b>. Laptop is in stock." },
  { "lines": "7", "range": { "text": "product.price < 500" }, "variables": { "product": {"name":"Laptop","price":999,"inStock":true} }, "description": "5. Check second condition: Is <code>999 < 500</code>? <b>No</b>. Laptop is too expensive. Since one condition failed, Laptop is <b>excluded</b>." },
  { "lines": "6", "range": { "text": "product" }, "variables": { "product": {"name":"Phone","price":699,"inStock":false} }, "description": "6. Second iteration: <code>product</code> is Phone ($699, not in stock)." },
  { "lines": "7", "range": { "text": "product.inStock" }, "variables": { "product": {"name":"Phone","price":699,"inStock":false} }, "description": "7. Check first condition: <code>product.inStock</code> is <b>false</b>. Phone is out of stock. Since the first condition failed, Phone is <b>excluded</b>." },
  { "lines": "6", "range": { "text": "product" }, "variables": { "product": {"name":"Tablet","price":299,"inStock":true} }, "description": "8. Third iteration: <code>product</code> is Tablet ($299, in stock)." },
  { "lines": "7", "range": { "text": "product.inStock" }, "variables": { "product": {"name":"Tablet","price":299,"inStock":true} }, "description": "9. Check first condition: <code>product.inStock</code> is <b>true</b>. Tablet is in stock." },
  { "lines": "7", "range": { "text": "product.price < 500" }, "variables": { "product": {"name":"Tablet","price":299,"inStock":true} }, "description": "10. Check second condition: Is <code>299 < 500</code>? <b>Yes</b>. Both conditions are true, so Tablet is <b>kept</b>." },
  { "lines": "6", "variables": { "deals": [{"name":"Tablet","price":299,"inStock":true}] }, "description": "11. <code>filter()</code> finishes. Only Tablet met both conditions." }
]
        </script>
            <div slot="summary">
                <h3>Key Points:</h3>
                <ul>
                    <li>Use <code>&&</code> (AND) to combine conditions — <b>all</b> must be true to keep the element</li>
                    <li>Use <code>||</code> (OR) when <b>any one</b> condition being true is enough</li>
                    <li>Real-world filtering often requires checking multiple properties at once</li>
                </ul>
            </div>
        </code-explainer>


    </main>

    <!-- Prism JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/keep-markup/prism-keep-markup.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>

</html>

